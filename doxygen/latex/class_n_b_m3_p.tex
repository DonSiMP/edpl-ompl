\hypertarget{class_n_b_m3_p}{\section{N\-B\-M3\-P Class Reference}
\label{class_n_b_m3_p}\index{N\-B\-M3\-P@{N\-B\-M3\-P}}
}


{\ttfamily \#include $<$N\-B\-M3\-P.\-h$>$}

\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_n_b_m3_p_1_1vertex__state__t}{vertex\-\_\-state\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_n_b_m3_p_af8678f7970fe5eac1c12030c711f927f}{typedef boost\-::adjacency\-\_\-list\\*
$<$ boost\-::vec\-S, boost\-::vec\-S, \\*
boost\-::undirected\-S, \\*
boost\-::property\\*
$<$ \hyperlink{struct_n_b_m3_p_1_1vertex__state__t}{vertex\-\_\-state\-\_\-t}, \\*
ompl\-::base\-::\-State $\ast$ $>$\\*
, boost\-::property\\*
$<$ boost\-::edge\-\_\-weight\-\_\-t, \\*
unsigned int, boost\-::property\\*
$<$ boost\-::edge\-\_\-index\-\_\-t, \\*
unsigned int $>$ $>$ $>$ {\bfseries Graph}}\label{class_n_b_m3_p_af8678f7970fe5eac1c12030c711f927f}

\item 
\hypertarget{class_n_b_m3_p_adaa54d5497edf2fcc353fd0b925282cc}{typedef boost\-::graph\-\_\-traits\\*
$<$ Graph $>$\-::vertex\-\_\-descriptor {\bfseries Vertex}}\label{class_n_b_m3_p_adaa54d5497edf2fcc353fd0b925282cc}

\item 
\hypertarget{class_n_b_m3_p_a1c3a2429dc0c4aaa965db2b09629d59a}{typedef boost\-::graph\-\_\-traits\\*
$<$ Graph $>$\-::edge\-\_\-descriptor {\bfseries Edge}}\label{class_n_b_m3_p_a1c3a2429dc0c4aaa965db2b09629d59a}

\item 
\hypertarget{class_n_b_m3_p_a805027e0ece50d49d31d64e7d8b9be64}{typedef std\-::shared\-\_\-ptr\\*
$<$ ompl\-::\-Nearest\-Neighbors\\*
$<$ Vertex $>$ $>$ {\bfseries Roadmap\-Neighbors}}\label{class_n_b_m3_p_a805027e0ece50d49d31d64e7d8b9be64}

\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_n_b_m3_p_a703b5d47928ffb674053cf2976cbb525}{\hyperlink{class_n_b_m3_p_a703b5d47928ffb674053cf2976cbb525}{N\-B\-M3\-P} (firm\-::\-Space\-Information\-::\-Space\-Information\-Ptr si)}\label{class_n_b_m3_p_a703b5d47928ffb674053cf2976cbb525}

\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a7559518458faed268cc7bdfe17e2b8fe}{virtual \hyperlink{class_n_b_m3_p_a7559518458faed268cc7bdfe17e2b8fe}{$\sim$\-N\-B\-M3\-P} ()}\label{class_n_b_m3_p_a7559518458faed268cc7bdfe17e2b8fe}

\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{class_n_b_m3_p_a50c2f81984f30c6f129d3384420ec1ff}{sample\-New\-Belief\-States} ()
\begin{DoxyCompactList}\small\item\em This function samples the beliefs, which form the starting point for the multi-\/modal scenario. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_ab3017a37c491eee1d450b3179de18e0c}{double \hyperlink{class_n_b_m3_p_ab3017a37c491eee1d450b3179de18e0c}{distance\-Function} (const Vertex a, const Vertex b) const }\label{class_n_b_m3_p_ab3017a37c491eee1d450b3179de18e0c}

\begin{DoxyCompactList}\small\item\em Compute distance between two milestones (this is simply distance between the states of the milestones) \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_aa0f173baf3e948e6b8888f6fe9fce1f2}{void \hyperlink{class_n_b_m3_p_aa0f173baf3e948e6b8888f6fe9fce1f2}{set\-Current\-Belief\-States} (const std\-::vector$<$ ompl\-::base\-::\-State $\ast$ $>$ states)}\label{class_n_b_m3_p_aa0f173baf3e948e6b8888f6fe9fce1f2}

\begin{DoxyCompactList}\small\item\em Set the current belief states based on robot's belief states. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a5c7a27824bfee181b766c393740d1a10}{void \hyperlink{class_n_b_m3_p_a5c7a27824bfee181b766c393740d1a10}{add\-F\-I\-R\-M\-Node\-To\-Observation\-Graph} (ompl\-::base\-::\-State $\ast$state)}\label{class_n_b_m3_p_a5c7a27824bfee181b766c393740d1a10}

\begin{DoxyCompactList}\small\item\em Add the \hyperlink{class_f_i_r_m}{F\-I\-R\-M} node as a state to the observation graph. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a1b5d067952fbcfc628fbe37f7fbf3438}{void \hyperlink{class_n_b_m3_p_a1b5d067952fbcfc628fbe37f7fbf3438}{set\-Belief\-Target\-States} (const std\-::vector$<$ ompl\-::base\-::\-State $\ast$ $>$ states)}\label{class_n_b_m3_p_a1b5d067952fbcfc628fbe37f7fbf3438}

\begin{DoxyCompactList}\small\item\em For each belief state, there is a target node to go to, set those here. \end{DoxyCompactList}\item 
void \hyperlink{class_n_b_m3_p_a9747b5ee488df8580a964838545b6219}{get\-Current\-Belief\-States} (std\-::vector$<$ ompl\-::base\-::\-State $\ast$ $>$ \&states)
\item 
\hypertarget{class_n_b_m3_p_ab500013db983e25a2b81fd8ee48ff428}{void \hyperlink{class_n_b_m3_p_ab500013db983e25a2b81fd8ee48ff428}{clear\-Internal\-States} ()}\label{class_n_b_m3_p_ab500013db983e25a2b81fd8ee48ff428}

\begin{DoxyCompactList}\small\item\em clear out the internal state containers \end{DoxyCompactList}\item 
virtual void \hyperlink{class_n_b_m3_p_ac2ea9419623bd0457607c0b21b1e9419}{generate\-Policy} (std\-::vector$<$ ompl\-::control\-::\-Control $\ast$ $>$ \&policy)
\begin{DoxyCompactList}\small\item\em Given the current belief states and target states, output the best policy. \end{DoxyCompactList}\item 
virtual ompl\-::base\-::\-Cost \hyperlink{class_n_b_m3_p_a8bcb9374834a923bac3e12442c99c758}{execute\-Open\-Loop\-Policy\-On\-Mode} (std\-::vector$<$ ompl\-::control\-::\-Control $\ast$ $>$ controls, const ompl\-::base\-::\-State $\ast$state)
\begin{DoxyCompactList}\small\item\em Runs the open loop policy on a given mode and outputs the cost. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_aabe6965cf94e0e48752c831d9d8210af}{virtual void \hyperlink{class_n_b_m3_p_aabe6965cf94e0e48752c831d9d8210af}{propagate\-Beliefs} (const ompl\-::control\-::\-Control $\ast$control, bool is\-Simulation=false)}\label{class_n_b_m3_p_aabe6965cf94e0e48752c831d9d8210af}

\begin{DoxyCompactList}\small\item\em advances the beliefs/modes by applying the given controls \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a9b8b1005e96ba553bc5726f4b29c79c1}{virtual void \hyperlink{class_n_b_m3_p_a9b8b1005e96ba553bc5726f4b29c79c1}{update\-Weights} (const arma\-::colvec true\-Observation)}\label{class_n_b_m3_p_a9b8b1005e96ba553bc5726f4b29c79c1}

\begin{DoxyCompactList}\small\item\em Updates the weights of the Gaussians in the mixture. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a700d3b88a1868771feea8006cc5ce67d}{virtual arma\-::colvec \hyperlink{class_n_b_m3_p_a700d3b88a1868771feea8006cc5ce67d}{compute\-Innovation} (const int current\-Belief\-Indx, const arma\-::colvec true\-Observation, double \&weight\-Factor)}\label{class_n_b_m3_p_a700d3b88a1868771feea8006cc5ce67d}

\begin{DoxyCompactList}\small\item\em Compute the innovation between the robot's and mode's observation. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a1a66c1007c83f91c73d80ac2b5e7bdbf}{void \hyperlink{class_n_b_m3_p_a1a66c1007c83f91c73d80ac2b5e7bdbf}{remove\-Beliefs} (const std\-::vector$<$ int $>$ Indxs)}\label{class_n_b_m3_p_a1a66c1007c83f91c73d80ac2b5e7bdbf}

\begin{DoxyCompactList}\small\item\em Remove modes that are no longer considered important. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_aa84cc4a40728838feb03646ea3fc41bb}{void \hyperlink{class_n_b_m3_p_aa84cc4a40728838feb03646ea3fc41bb}{print\-Weights} () const }\label{class_n_b_m3_p_aa84cc4a40728838feb03646ea3fc41bb}

\begin{DoxyCompactList}\small\item\em Print the mode weights. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_abe00e2b04b4c6545ec87eb4d569fa068}{bool \hyperlink{class_n_b_m3_p_abe00e2b04b4c6545ec87eb4d569fa068}{is\-Converged} ()}\label{class_n_b_m3_p_abe00e2b04b4c6545ec87eb4d569fa068}

\begin{DoxyCompactList}\small\item\em checks if the beliefs have converged \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a044d5ea04e213cfba2dc959cfa0edb78}{bool \hyperlink{class_n_b_m3_p_a044d5ea04e213cfba2dc959cfa0edb78}{are\-Current\-Beliefs\-Valid} ()}\label{class_n_b_m3_p_a044d5ea04e213cfba2dc959cfa0edb78}

\begin{DoxyCompactList}\small\item\em Returns true if all beliefs are valid i.\-e. collision free. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a238cac66753c87ac21ddea6098b2c744}{bool \hyperlink{class_n_b_m3_p_a238cac66753c87ac21ddea6098b2c744}{do\-Current\-Beliefs\-Satisfy\-Clearance} (int current\-Step)}\label{class_n_b_m3_p_a238cac66753c87ac21ddea6098b2c744}

\begin{DoxyCompactList}\small\item\em Returns true if all beliefs satisfy a certain minimum clearance for n steps from now, else false. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a99d71409b690633e8090f1333d4ef701}{void \hyperlink{class_n_b_m3_p_a99d71409b690633e8090f1333d4ef701}{get\-State\-With\-Max\-Weight} (ompl\-::base\-::\-State $\ast$state, float \&weight)}\label{class_n_b_m3_p_a99d71409b690633e8090f1333d4ef701}

\begin{DoxyCompactList}\small\item\em Get the state with the max weight and its weight. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_ab4e2fe76004cd269d07d94ae5f115b5d}{std\-::vector$<$ float $>$ \hyperlink{class_n_b_m3_p_ab4e2fe76004cd269d07d94ae5f115b5d}{get\-Weights} ()}\label{class_n_b_m3_p_ab4e2fe76004cd269d07d94ae5f115b5d}

\begin{DoxyCompactList}\small\item\em Get the weights of the modes. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a2b33685661e5c331b55e115c3428fdb4}{int \hyperlink{class_n_b_m3_p_a2b33685661e5c331b55e115c3428fdb4}{get\-Number\-Of\-Modes} ()}\label{class_n_b_m3_p_a2b33685661e5c331b55e115c3428fdb4}

\begin{DoxyCompactList}\small\item\em Get the numbder of modes currently alive. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a48e376e8a18712fffcb72e9f5ef05746}{void \hyperlink{class_n_b_m3_p_a48e376e8a18712fffcb72e9f5ef05746}{set\-Policy\-Execution\-Space} (firm\-::\-Space\-Information\-::\-Space\-Information\-Ptr execution\-S\-I)}\label{class_n_b_m3_p_a48e376e8a18712fffcb72e9f5ef05746}

\begin{DoxyCompactList}\small\item\em Set the space information in which the policies are executed. This space may or not be same as the variable si\-\_\-. Use this feature to change where the control action is executed (ex. real robot, ros/gazebo). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_n_b_m3_p_a79cb3e3d906cdbe42e2575e992cfac2a}{void \hyperlink{class_n_b_m3_p_a79cb3e3d906cdbe42e2575e992cfac2a}{add\-State\-To\-Observation\-Graph} (ompl\-::base\-::\-State $\ast$state)}\label{class_n_b_m3_p_a79cb3e3d906cdbe42e2575e992cfac2a}

\begin{DoxyCompactList}\small\item\em Add the a state to the observation graph. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a8876d98bfe366711e7a7091c01e48627}{void \hyperlink{class_n_b_m3_p_a8876d98bfe366711e7a7091c01e48627}{add\-Edge\-To\-Observation\-Graph} (const Vertex a, const Vertex b)}\label{class_n_b_m3_p_a8876d98bfe366711e7a7091c01e48627}

\begin{DoxyCompactList}\small\item\em Add an edge between the two vertices. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a3dee1d7f7d5ca23f657cd749e233bba5}{void \hyperlink{class_n_b_m3_p_a3dee1d7f7d5ca23f657cd749e233bba5}{evaluate\-Observation\-List\-For\-Vertex} (const Vertex v)}\label{class_n_b_m3_p_a3dee1d7f7d5ca23f657cd749e233bba5}

\begin{DoxyCompactList}\small\item\em Returns the list of observations that are observed from a Vertex. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a29daac363c46c665bec19fdcceb6a3b4}{virtual bool \hyperlink{class_n_b_m3_p_a29daac363c46c665bec19fdcceb6a3b4}{get\-Observation\-Overlap} (const Vertex a, const Vertex b, unsigned int \&weight)}\label{class_n_b_m3_p_a29daac363c46c665bec19fdcceb6a3b4}

\begin{DoxyCompactList}\small\item\em Get the overlap in observation for two vertices. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a1b3f35bba1b00976812dbf75d1dc7c07}{std\-::vector$<$ Vertex $>$ \hyperlink{class_n_b_m3_p_a1b3f35bba1b00976812dbf75d1dc7c07}{get\-Neighbors} (const ompl\-::base\-::\-State $\ast$state)}\label{class_n_b_m3_p_a1b3f35bba1b00976812dbf75d1dc7c07}

\begin{DoxyCompactList}\small\item\em Get the nodes within some radius \char`\"{}r\char`\"{} to state. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a0e5fbec093337b20754472b343c828fc}{Vertex \hyperlink{class_n_b_m3_p_a0e5fbec093337b20754472b343c828fc}{find\-Target} (const unsigned int belief\-State\-Indx)}\label{class_n_b_m3_p_a0e5fbec093337b20754472b343c828fc}

\begin{DoxyCompactList}\small\item\em Find the target location for the given state. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a5a7b829b03f525ffb2618095b628be80}{int \hyperlink{class_n_b_m3_p_a5a7b829b03f525ffb2618095b628be80}{calculate\-Intersection\-With\-Neighbor} (const Vertex v, std\-::vector$<$ Vertex $>$ neighbors)}\label{class_n_b_m3_p_a5a7b829b03f525ffb2618095b628be80}

\begin{DoxyCompactList}\small\item\em Find the total weight of the edges from v to nodes in the given neighbor set. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_ad047dadf01b4c4aea5d75ef34f384301}{bool \hyperlink{class_n_b_m3_p_ad047dadf01b4c4aea5d75ef34f384301}{are\-Similar\-Weights} ()}\label{class_n_b_m3_p_ad047dadf01b4c4aea5d75ef34f384301}

\begin{DoxyCompactList}\small\item\em Returns true if all weights are same, false otherwise. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_af0139a2cef346c19869dbb900a9f648a}{void \hyperlink{class_n_b_m3_p_af0139a2cef346c19869dbb900a9f648a}{remove\-Duplicate\-Modes} ()}\label{class_n_b_m3_p_af0139a2cef346c19869dbb900a9f648a}

\begin{DoxyCompactList}\small\item\em if 2 modes have the same weight and pose, then they are duplicates \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a1f8ee9978daa9fd57c1fe66be3a87140}{void \hyperlink{class_n_b_m3_p_a1f8ee9978daa9fd57c1fe66be3a87140}{draw\-Beliefs} ()}\label{class_n_b_m3_p_a1f8ee9978daa9fd57c1fe66be3a87140}

\begin{DoxyCompactList}\small\item\em draw the current beliefs \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_ae785cd0405bb98d27bfc387c5fc77bc4}{void \hyperlink{class_n_b_m3_p_ae785cd0405bb98d27bfc387c5fc77bc4}{normalize\-Weights} ()}\label{class_n_b_m3_p_ae785cd0405bb98d27bfc387c5fc77bc4}

\begin{DoxyCompactList}\small\item\em Normalize the weights of modes. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a24872c915533c3c39c8afd092599eff2}{void \hyperlink{class_n_b_m3_p_a24872c915533c3c39c8afd092599eff2}{assign\-Uniform\-Weight} ()}\label{class_n_b_m3_p_a24872c915533c3c39c8afd092599eff2}

\begin{DoxyCompactList}\small\item\em sets a uniform weight for all modes \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{class_n_b_m3_p_ab54a9d284dc22393c47bb904a3980540}{std\-::vector$<$ ompl\-::base\-::\-State $\ast$ $>$ \hyperlink{class_n_b_m3_p_ab54a9d284dc22393c47bb904a3980540}{current\-Belief\-States\-\_\-}}\label{class_n_b_m3_p_ab54a9d284dc22393c47bb904a3980540}

\begin{DoxyCompactList}\small\item\em Container for the current modes/beliefs. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a1e44c4aab83bddb3f19e709079da8a14}{std\-::vector$<$ ompl\-::base\-::\-State $\ast$ $>$ \hyperlink{class_n_b_m3_p_a1e44c4aab83bddb3f19e709079da8a14}{target\-States\-\_\-}}\label{class_n_b_m3_p_a1e44c4aab83bddb3f19e709079da8a14}

\begin{DoxyCompactList}\small\item\em The target location for each corresponding belief. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a4c6505f2dd7bb3dbf7b1a26ca2bf07dc}{firm\-::\-Space\-Information\-::\-Space\-Information\-Ptr \hyperlink{class_n_b_m3_p_a4c6505f2dd7bb3dbf7b1a26ca2bf07dc}{si\-\_\-}}\label{class_n_b_m3_p_a4c6505f2dd7bb3dbf7b1a26ca2bf07dc}

\begin{DoxyCompactList}\small\item\em Pointer to the state space information. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a9d4ddb656f5f8ec781bd07771f18e83f}{firm\-::\-Space\-Information\-::\-Space\-Information\-Ptr \hyperlink{class_n_b_m3_p_a9d4ddb656f5f8ec781bd07771f18e83f}{policy\-Execution\-S\-I\-\_\-}}\label{class_n_b_m3_p_a9d4ddb656f5f8ec781bd07771f18e83f}

\begin{DoxyCompactList}\small\item\em This is the space in which the policy is executed. By default it is set to the same space that is passed to the constructer. If this space is changed, the observations and controls are both in the context of this new space. Use the set\-Policy\-Execution\-Space function to change this parameter. Particularly useful if you wish to drive a real robot and get sensor readings. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a8303a635a8a127056e48928b721d1269}{std\-::vector\\*
$<$ ompl\-::control\-::\-Control $\ast$ $>$ \hyperlink{class_n_b_m3_p_a8303a635a8a127056e48928b721d1269}{previous\-Policy\-\_\-}}\label{class_n_b_m3_p_a8303a635a8a127056e48928b721d1269}

\begin{DoxyCompactList}\small\item\em Container for the previous open loop policy. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a9bbb021ca2cb7147bbd86b424b5916bb}{std\-::vector$<$ float $>$ \hyperlink{class_n_b_m3_p_a9bbb021ca2cb7147bbd86b424b5916bb}{weights\-\_\-}}\label{class_n_b_m3_p_a9bbb021ca2cb7147bbd86b424b5916bb}

\begin{DoxyCompactList}\small\item\em Container for the current weights of the beliefs. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a35d09fe5f1740d998ae63bfe60239ce8}{Graph \hyperlink{class_n_b_m3_p_a35d09fe5f1740d998ae63bfe60239ce8}{g\-\_\-}}\label{class_n_b_m3_p_a35d09fe5f1740d998ae63bfe60239ce8}

\begin{DoxyCompactList}\small\item\em connectivity graph (observation graph) \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a7069dd6ab7e1f4f82b1eea703145b552}{boost\-::property\-\_\-map$<$ Graph, \\*
\hyperlink{struct_n_b_m3_p_1_1vertex__state__t}{vertex\-\_\-state\-\_\-t} $>$\-::type \hyperlink{class_n_b_m3_p_a7069dd6ab7e1f4f82b1eea703145b552}{state\-Property\-\_\-}}\label{class_n_b_m3_p_a7069dd6ab7e1f4f82b1eea703145b552}

\begin{DoxyCompactList}\small\item\em Access to the internal ompl\-::base\-::state at each Vertex. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a1710534b402342904c1dc5b0cb311a64}{boost\-::property\-\_\-map$<$ Graph, \\*
boost\-::edge\-\_\-weight\-\_\-t $>$\-::type \hyperlink{class_n_b_m3_p_a1710534b402342904c1dc5b0cb311a64}{weight\-Property\-\_\-}}\label{class_n_b_m3_p_a1710534b402342904c1dc5b0cb311a64}

\begin{DoxyCompactList}\small\item\em Access to the weights of each Edge. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_acbab5abc9163ec04ce900b607e9fee89}{boost\-::property\-\_\-map$<$ Graph, \\*
boost\-::edge\-\_\-index\-\_\-t $>$\-::type \hyperlink{class_n_b_m3_p_acbab5abc9163ec04ce900b607e9fee89}{edge\-I\-D\-Property\-\_\-}}\label{class_n_b_m3_p_acbab5abc9163ec04ce900b607e9fee89}

\begin{DoxyCompactList}\small\item\em Access to the indices of each Edge. \end{DoxyCompactList}\item 
std\-::map$<$ Vertex, std\-::vector\\*
$<$ unsigned int $>$ $>$ \hyperlink{class_n_b_m3_p_a3dc2afc2ddf851a7e31e0f3d6e21c6d9}{state\-Observation\-Property\-\_\-}
\begin{DoxyCompactList}\small\item\em Data structure that maintains the connected components. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a12d28b9df3354265002914a2c39244d9}{boost\-::mutex \hyperlink{class_n_b_m3_p_a12d28b9df3354265002914a2c39244d9}{graph\-Mutex\-\_\-}}\label{class_n_b_m3_p_a12d28b9df3354265002914a2c39244d9}

\begin{DoxyCompactList}\small\item\em Mutex to guard access to the Graph member (g\-\_\-) \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_aa9fa80663a9f07dbd9f70436c612c2fe}{unsigned int \hyperlink{class_n_b_m3_p_aa9fa80663a9f07dbd9f70436c612c2fe}{max\-Edge\-I\-D\-\_\-}}\label{class_n_b_m3_p_aa9fa80663a9f07dbd9f70436c612c2fe}

\begin{DoxyCompactList}\small\item\em Used to track the maximum number of Edges in the Uniqueness graph. \end{DoxyCompactList}\item 
\hypertarget{class_n_b_m3_p_a27fd0532feff16fc90da8cf3fcfc394d}{std\-::vector$<$ double $>$ \hyperlink{class_n_b_m3_p_a27fd0532feff16fc90da8cf3fcfc394d}{time\-Since\-Divergence\-\_\-}}\label{class_n_b_m3_p_a27fd0532feff16fc90da8cf3fcfc394d}

\begin{DoxyCompactList}\small\item\em keep a track of how long a belief has been predicting to observe something that is not seen by the robot \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{class_n_b_m3_p}{N\-B\-M3\-P} is a planner for Non-\/\-Gaussian Belief State. Stated simply, its job is to generate the best next control to disambiguate the belief given the current modes. Key features\-:

1) We represent the belief with a Gaussian Mixture Model (G\-M\-M) rather than particles.

2) Instead of basing actions on the most-\/likely hypothesis, we create candidate actions based on each mode and evaluate the best one.

3) We use a sampling based planner i.\-e. R\-R\-T$\ast$ to plan candidate trajectories. (One can also simply use R\-R\-Ts but due to insignificant overhead in using R\-R\-T$\ast$ over R\-R\-T we prefer R\-R\-T$\ast$ as it gives us the benefit of optimality)

4) We introduce a switching behavior in the belief representation during the online-\/phase from Gaussian to non-\/\-Gaussian, and back, as required. Our argument is that most of the times, the belief is well represented by a Gaussian, wherever this is not the case, we switch to a G\-M\-M and our algorithm creates plans that converge back to a uni-\/modal Gaussian.

5) We present simulation results for a 2\-D navigation problem in which a robot is kidnapped. 

\subsection{Member Function Documentation}
\hypertarget{class_n_b_m3_p_a8bcb9374834a923bac3e12442c99c758}{\index{N\-B\-M3\-P@{N\-B\-M3\-P}!execute\-Open\-Loop\-Policy\-On\-Mode@{execute\-Open\-Loop\-Policy\-On\-Mode}}
\index{execute\-Open\-Loop\-Policy\-On\-Mode@{execute\-Open\-Loop\-Policy\-On\-Mode}!NBM3P@{N\-B\-M3\-P}}
\subsubsection[{execute\-Open\-Loop\-Policy\-On\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}ompl\-::base\-::\-Cost N\-B\-M3\-P\-::execute\-Open\-Loop\-Policy\-On\-Mode (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ ompl\-::control\-::\-Control $\ast$ $>$}]{controls, }
\item[{const ompl\-::base\-::\-State $\ast$}]{state}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_n_b_m3_p_a8bcb9374834a923bac3e12442c99c758}


Runs the open loop policy on a given mode and outputs the cost. 

\hyperlink{class_n_b_m3_p_a044d5ea04e213cfba2dc959cfa0edb78}{are\-Current\-Beliefs\-Valid()} \hypertarget{class_n_b_m3_p_ac2ea9419623bd0457607c0b21b1e9419}{\index{N\-B\-M3\-P@{N\-B\-M3\-P}!generate\-Policy@{generate\-Policy}}
\index{generate\-Policy@{generate\-Policy}!NBM3P@{N\-B\-M3\-P}}
\subsubsection[{generate\-Policy}]{\setlength{\rightskip}{0pt plus 5cm}void N\-B\-M3\-P\-::generate\-Policy (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ ompl\-::control\-::\-Control $\ast$ $>$ \&}]{policy}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{class_n_b_m3_p_ac2ea9419623bd0457607c0b21b1e9419}


Given the current belief states and target states, output the best policy. 

This function does the majority work. It will use an R\-R\-T to generate open loop control policies based on each mode to its target. Then evaluate each policy on each mode and return the best policy to be followed. We will then apply this policy to the true state i.\-e. the robot and update all the beliefs. This process would then get repeated. \hypertarget{class_n_b_m3_p_a9747b5ee488df8580a964838545b6219}{\index{N\-B\-M3\-P@{N\-B\-M3\-P}!get\-Current\-Belief\-States@{get\-Current\-Belief\-States}}
\index{get\-Current\-Belief\-States@{get\-Current\-Belief\-States}!NBM3P@{N\-B\-M3\-P}}
\subsubsection[{get\-Current\-Belief\-States}]{\setlength{\rightskip}{0pt plus 5cm}void N\-B\-M3\-P\-::get\-Current\-Belief\-States (
\begin{DoxyParamCaption}
\item[{std\-::vector$<$ ompl\-::base\-::\-State $\ast$ $>$ \&}]{states}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{class_n_b_m3_p_a9747b5ee488df8580a964838545b6219}
brief Get the current belief states \hypertarget{class_n_b_m3_p_a50c2f81984f30c6f129d3384420ec1ff}{\index{N\-B\-M3\-P@{N\-B\-M3\-P}!sample\-New\-Belief\-States@{sample\-New\-Belief\-States}}
\index{sample\-New\-Belief\-States@{sample\-New\-Belief\-States}!NBM3P@{N\-B\-M3\-P}}
\subsubsection[{sample\-New\-Belief\-States}]{\setlength{\rightskip}{0pt plus 5cm}void N\-B\-M3\-P\-::sample\-New\-Belief\-States (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_n_b_m3_p_a50c2f81984f30c6f129d3384420ec1ff}


This function samples the beliefs, which form the starting point for the multi-\/modal scenario. 

Logic\-:
\begin{DoxyEnumerate}
\item Grid the environment
\item At each point in grid, put a robot with periodic orientations (10 degree spacing)
\end{DoxyEnumerate}

\subsection{Member Data Documentation}
\hypertarget{class_n_b_m3_p_a3dc2afc2ddf851a7e31e0f3d6e21c6d9}{\index{N\-B\-M3\-P@{N\-B\-M3\-P}!state\-Observation\-Property\-\_\-@{state\-Observation\-Property\-\_\-}}
\index{state\-Observation\-Property\-\_\-@{state\-Observation\-Property\-\_\-}!NBM3P@{N\-B\-M3\-P}}
\subsubsection[{state\-Observation\-Property\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}std\-::map$<$Vertex, std\-::vector$<$unsigned int$>$ $>$ N\-B\-M3\-P\-::state\-Observation\-Property\-\_\-\hspace{0.3cm}{\ttfamily [private]}}}\label{class_n_b_m3_p_a3dc2afc2ddf851a7e31e0f3d6e21c6d9}


Data structure that maintains the connected components. 

Stores the list of ids of landmarks that a vertex in the graph can see 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
include/\-Planner/N\-B\-M3\-P.\-h\item 
src/\-Planner/N\-B\-M3\-P.\-cpp\end{DoxyCompactItemize}
